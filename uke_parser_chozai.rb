# TODO: refactor
# http://www.ssk.or.jp/seikyushiharai/rezept/iryokikan/iryokikan_02.files/jiki_t01.pdf

require 'yaml'
require 'csv'

uke = CSV.read('uke/chozai.csv')
uke.each do |r|
  case r[0]
  when 'YK' then
    p "--- YK: 薬局情報レコード---"
    p "審査支払機関:#{r[1]}"
    p "都道府県:#{r[2]}"
    p "点数表:#{r[3]}"
    p "薬局コード:#{r[4]}"
    p "薬局連絡先名称:#{r[5]}"
    p "請求年月:#{r[6]}"
    p "マルチボリューム識別情報:#{r[7]}"
    p "電話番号:#{r[8]}"
  when 'RE' then
    p "--- RE: レセプト共通レコード---"
    p "レセプト番号:#{r[1]}"
    p "レセプト種別:#{r[2]}"
    p "調剤年月:#{r[3]}"
    p "氏名:#{r[4]}"
    p "男女区分:#{r[5]}"
    p "生年月日:#{r[6]}"
    p "給付割合:#{r[7]}"
    p "レセプト特記事項:#{r[8]}"
    p "都道府県（医療機関名称・所在地）:#{r[9]}"
    p "点数表（医療機関名称・所在地）:#{r[10]}"
    p "医療機関（医療機関名称・所在地）:#{r[11]}"
    p "名称（医療機関名称・所在地）:#{r[12]}"
    p "所在地（医療機関名称・所在地）:#{r[13]}"
    # (15)～(34) 氏名（保険医氏名） 
    p "麻薬免許番号:#{r[34]}"
    p "調剤録番号等:#{r[35]}"
    p "予備:#{r[36]}"
    p "検索番号:#{r[37]}"
    p "記録条件仕様年月情報:#{r[38]}"
    p "請求情報:#{r[39]}"
    p "一部負担金区分:#{r[40]}"
    p "カタカナ（氏名）:#{r[41]}"
  when 'HO' then
    p "--- HO: 保険者レコード---"
    p "保険者番号:#{r[1]}"
    p "記号（被保険者証（手帳）等の記号・番号）:#{r[2]}"
    p "番号（被保険者証（手帳）等の記号・番号）:#{r[3]}"
    p "処方箋受付回数:#{r[4]}"
    p "合計点数:#{r[5]}"
    p "予備:#{r[6]}"
    p "職務上の事由:#{r[7]}"
    p "証明書番号:#{r[8]}"
    p "一部負担金:#{r[9]}"
    p "予備（負担金額減免）:#{r[10]}"
    p "減免区分（負担金額減免）:#{r[11]}"
    p "減額割合（負担金額減免）:#{r[12]}"
    p "減額金額（負担金額減免）:#{r[13]}"
  when 'KO' then
    p "--- KO: 公費レコード ---"
    p "負担者番号（公費負担医療）:#{r[1]}"
    p "受給者番号（公費負担医療）:#{r[2]}"
    p "任意給付区分（公費負担医療）:#{r[3]}"
    p "処方箋受付回数:#{r[4]}"
    p "合計点数:#{r[5]}"
    p "予備:#{r[6]}"
    p "一部負担金額:#{r[7]}"
    p "予備:#{r[8]}"
    p "公費給付対象一部負担金:#{r[9]}"
  when 'SH'then
    p "--- SH: 処方基本レコード ---"
    p "Ｎｏ:#{r[1]}"
    p "剤形コード:#{r[2]}"
    p "用法コード（用法）:#{r[3]}"
    p "特別指示（用法）:#{r[4]}"
    p "合計（単位薬剤料）:#{r[5]}"
    p "第一公費（単位薬剤料）:#{r[6]}"
    p "第二公費（単位薬剤料）:#{r[7]}"
    p "第三公費（単位薬剤料）:#{r[8]}"
    p "第四公費（単位薬剤料）:#{r[9]}"
  when 'CZ' then
    p "--- CZ: 調剤情報レコード ---"
    p "医師番号:#{r[1]}"
    p "処方月日:#{r[2]}"
    p "調剤月日:#{r[3]}"
    p "処方箋受付回:#{r[4]}"
    p "調剤数量:#{r[5]}"
    p "負担区分（調剤料）:#{r[6]}"
    p "算定区分（調剤料）:#{r[7]}"
    p "算定先 No（調剤料）:#{r[8]}"
    p "コード（調剤料）:#{r[9]}"
    p "点数（調剤料）:#{r[10]}"
    p "分割区分（分割調剤）:#{r[11]}"
    p "前回までの数量（分割調剤）:#{r[12]}"
    p "点数（薬剤料）:#{r[13]}"
    p "予備（薬剤料）:#{r[14]}"
    p "負担区分（加算料）:#{r[15]}"
    p "コード（加算料）:#{r[16]}"
    # (18) 点数（加算料）～(45) 点数（加算料） 
    p "一包化日数:#{r[45]}"
    p "分割調剤種類（分割調剤）:#{r[46]}"
    p "前回までの一包化日数（分割調剤）:#{r[47]}"
    p "コード（医師の指示による分割調剤）:#{r[48]}"
    p "分割区分（医師の指示による分割調剤）:#{r[49]}"
    p "分割対象調剤数量（医師の指示による分割調剤）:#{r[50]}"
    p "分割対象一包化日数（医師の指示による分割調剤）:#{r[51]}"
    p "包括管理料等:#{r[52]}"
    p "他医療機関受診に係る処方箋受付:#{r[53]}"
  when 'IY' then
    p "--- IY: 医薬品レコード ---"
    p "負担区分:#{r[1]}"
    p "医薬品コード:#{r[2]}"
    p "使用量:#{r[3]}"
    p "予備:#{r[4]}"
    p "予備:#{r[5]}"
    p "コード（混合区分）:#{r[6]}"
    p "枝（混合区分）:#{r[7]}"
    p "配合不適区分:#{r[8]}"
    p "１回用量:#{r[9]}"
  when 'TO' then
    p "--- TO: 特定器材レコード ---"
    p "負担区分:#{r[1]}"
    p "特定器材コード:#{r[2]}"
    p "使用量:#{r[3]}"
    p "単位コード:#{r[4]}"
    p "単価:#{r[5]}"
    p "予備:#{r[6]}"
  when 'CO' then
    p "--- CO: コメントレコード ---"
    p "コメントコード:#{r[1]}"
    p "文字データ:#{r[2]}"
  when 'TK' then
    p "--- TK: 摘要欄レコード ---"
    p "コメントコード:#{r[1]}"
    p "文字データ:#{r[2]}"
  when 'KI' then 
    p "--- KI: 基本料・薬学管理料レコード ---"
  when 'ST' then 
    p "--- ST: 分割技術料レコード ---"
    p "医師番号:#{r[1]}"
    p "処方月日:#{r[2]}"
    p "調剤月日:#{r[3]}"
    p "処方箋受付回:#{r[4]}"
    p "分割指示回数:#{r[5]}"
    p "分割対象点数（保険）:#{r[6]}"
    p "分割後点数（保険）:#{r[7]}"
    p "分割対象点数（第一公費）:#{r[8]}"
    p "分割後点数（第一公費）:#{r[9]}"
    p "分割対象点数（第二公費）:#{r[10]}"
    p "分割後点数（第二公費）:#{r[11]}"
    p "分割対象点数（第三公費）:#{r[12]}"
    p "分割後点数（第三公費）:#{r[13]}"
    p "分割対象点数（第四公費）:#{r[14]}"
    p "分割後点数（第四公費）:#{r[15]}"
  when 'GO' then
    p "--- GO: 診療報酬請求書レコード ---"
    p "総件数:#{r[1]}"
    p "総合計点数:#{r[2]}"
    p "マルチボリューム識別:#{r[3]}"
  end
end